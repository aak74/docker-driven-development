(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{65:function(t,e,n){"use strict";n.r(e);var r=n(0),s=Object(r.a)({},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[t._m(0),n("p",[t._v("В "),n("router-link",{attrs:{to:"../ex11/"}},[t._v("примере")]),t._v(" мы подключили БД. И даже заполнили ее. Но при перезапуске контейнера все данные потерялись. Такое поведение было описано в "),n("router-link",{attrs:{to:"../ex0/"}},[t._v("нулевом примере")]),t._v(".")],1),n("p",[t._v("Обычно мы хотим все же сохранения данных в БД даже после перезапуска контейнера.")]),t._m(1),t._m(2),t._m(3),n("p",[t._v("Теперь БД будет сохраняться и при перезапуске контейнера.")]),t._m(4),t._m(5)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"поnноценное-испоnьзование-бд"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#поnноценное-испоnьзование-бд","aria-hidden":"true"}},[this._v("#")]),this._v(" Полноценное использование БД")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"рецепт"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#рецепт","aria-hidden":"true"}},[this._v("#")]),this._v(" Рецепт")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("В файле "),e("code",[this._v("docker-compose.yml")]),this._v(" изменяем секцию с описанием контейнера следующим образом:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("mongo:\n  image: mongo:3.6-stretch\n  volumes:\n    - ./data/mongo:/data/db\n  networks:\n    - skynet\n")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"итоговый-файn-docker-compose-yml"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#итоговый-файn-docker-compose-yml","aria-hidden":"true"}},[this._v("#")]),this._v(" Итоговый файл docker-compose.yml")])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("version: '2'\n\nservices:\n  server:\n    image: node:8-alpine\n    ports:\n      - 3000:3000 \n    networks:\n      - skynet\n  mongo:\n    image: mongo:3.6-stretch\n    volumes:\n      - ./data/mongo:/data/db\n    networks:\n      - skynet\nnetworks:\n  skynet:\n    driver: bridge\n    ipam:\n      driver: default\n      config:\n        - subnet: 10.1.0.1/24      \n")])])}],!1,null,null,null);e.default=s.exports}}]);